<div class="container">
  <% shopping_list = ShoppingList.new(@recipe) %>
  
  <h1>Shopping List for <%= @recipe.title %></h1>
  
  <p>Amount of food items to buy:
    <%= @recipe.ingredients.count %>
  </p>
  <p>Total value of food needed:
    <%= number_to_currency(shopping_list.calculate_total_value, precision: 2) %>
  </p>
  
  <table class="table">
    <thead>
      <tr>
        <th>Food Name</th>
        <th>Quantity</th>
        <th>Price</th>
      </tr>
    </thead>
    <tbody>
      <% @recipe.ingredients.each do |ingredient| %>
        <tr>
          <td><%= ingredient.food.name %></td>
          <td><%= "#{ingredient.quantity} #{ingredient.food.measurement_unit}" %></td>
          <td><%= "$#{ingredient.value}" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
